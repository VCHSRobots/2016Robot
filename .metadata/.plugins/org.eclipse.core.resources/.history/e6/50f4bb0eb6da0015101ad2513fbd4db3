package org.usfirst.frc.team4415.robot;

import java.io.IOException;
import java.io.OutputStream;
import java.net.Socket;
import java.net.UnknownHostException;
import edu.wpi.first.wpilibj.smartdashboard.SmartDashboard;
//import java.io.SocketConnection;

// This class assumes the setup as follows..

// This class communicates with the PI computer to get
// Targeting Info.

public class TCCom {
	String m_PiNetName = "pi-4415-tc-1";
	int m_Port = 5800;
	Socket m_socket = null;
	
	public void SendData() {
		OutputStream w = null;
		//SmartDashboard.putString("JavaNetStatus", "I got to here");
		try {
			m_socket = new Socket("192.168.0.105", m_Port);	
			
		}
		catch (UnknownHostException e) {
			SmartDashboard.putString("JavaNetStatus", "Failed on getting socket #1.");
			//SmartDashboard.putString("JavaNetError", e.getMessage());
			
			return;
		} catch (IOException e) {
			SmartDashboard.putString("JavaNetStatus", "Failed on getting socket #2.");
			//SmartDashboard.putString("JavaNetError", e.getMessage());
			return;
		}
		try {
			w = m_socket.getOutputStream();
		} catch (IOException e) {
			SmartDashboard.putString("JavaNetStatus", "Failed on output stream.");
			//SmartDashboard.putString("JavaNetError", e.getMessage());
			return;
		}
		try {
			w.write("Hello Nathan".getBytes());
		} catch (IOException e) {
			SmartDashboard.putString("JavaNetStatus", "Failed on write.");
			SmartDashboard.putString("JavaNetError", e.getMessage());
			return;
		}
		try {
			w.close();
		} catch (IOException e) {
			SmartDashboard.putString("JavaNetStatus", "Failed on close.");
			SmartDashboard.putString("JavaNetError", e.getMessage());
			return;
		}
		SmartDashboard.putString("JavaNetStatus", "Write Success.");
	}
}
